function passedDialog(){function C(){var a=new Kinetic.Rect({x:10,y:10,width:q-10,height:r-10,cornerRadius:5,fill:"black",opacity:.6});b.add(a)}function D(){var a=new Kinetic.Rect({x:c,y:d,width:400,height:300,cornerRadius:5,fill:"#D0D0FF",stroke:"#F63333",strokeWidth:15,shadowColor:"black",shadowBlur:5,shadowOffset:10,shadowOpacity:.5});b.add(a)}function E(){for(var a=score2StarNumber(n,z.mini),g=0;3>g;g++){var e=new Kinetic.Star({x:c+100+70*g+30,y:d+100,numPoints:5,innerRadius:15,outerRadius:30,
fill:a>g?"#FDD017":"gray",stroke:a>g?"white":"gray",strokeWidth:2,shadowColor:"gray",shadowBlur:5,shadowOffset:3,shadowOpacity:.5});b.add(e)}}function F(){var a=new Kinetic.Text({x:c+200,y:d+70/3,text:A,fontSize:35,fontFamily:"Verdana",fill:"blue",shadowColor:"white",shadowBlur:3,shadowOffset:3,shadowOpacity:.9});a.setOffset({x:a.getWidth()/2});b.add(a)}function G(){var a=new Kinetic.Text({x:c+200,y:d+140,text:n.moves+" "+(1>=n.moves?gTxtMsg.Step:gTxtMsg.Steps)+" "+n.hints+" "+gTxtMsg.Hints,fontSize:30,
fontFamily:"Calibri",fill:"#0000C4"});a.setOffset({x:a.getWidth()/2});b.add(a)}function v(){null!=e&&(f&&(f.destroy(),f=null),offsetY=180,f=new Kinetic.Text({x:c+200,y:d+offsetY,text:"("+gTxtMsg.BestScore+e.moves+" "+(1>=e.moves?gTxtMsg.Step:gTxtMsg.Steps)+" "+e.hints+" "+gTxtMsg.Hints+")",fontSize:25,fontFamily:"Calibri",fill:"#0000C4"}),f.setOffset({x:f.getWidth()/2}),b.add(f))}function w(){var a=new Kinetic.Circle({x:c+50+p.width/2,y:d+250+p.height/2,radius:45,fill:"#6699FF",stroke:"#FF0066",strokeWidth:5,
shadowColor:"gray",shadowBlur:8,shadowOffset:5,shadowOpacity:.3}),g=new Kinetic.Image({x:c+50-3,y:d+250-2,image:p,shadowColor:"gray",shadowBlur:3,shadowOffset:2,shadowOpacity:.5});h=new Kinetic.Circle({x:c+50+p.width/2,y:d+250+p.height/2,radius:45});h.on("mouseover",function(){document.body.style.cursor="pointer"});h.on("mouseout",function(){document.body.style.cursor="default"});h.on("click tap",function(){k.destroy();document.body.style.cursor="default";null!=t&&t(0)});b.add(a);b.add(g);b.add(h)}
function x(){var a=new Kinetic.Circle({x:c+350-l.width/2,y:d+250+l.height/2,radius:45,fill:"#6699FF",stroke:"#FF0066",strokeWidth:5,shadowColor:"gray",shadowBlur:8,shadowOffset:5,shadowOpacity:.3}),g=new Kinetic.Image({x:c+350-l.width,y:d+250,image:l,shadowColor:"gray",shadowBlur:3,shadowOffset:2,shadowOpacity:.5});m=new Kinetic.Circle({x:c+350-l.width/2,y:d+250+l.height/2,radius:45});m.on("mouseover",function(){document.body.style.cursor="pointer"});m.on("mouseout",function(){document.body.style.cursor=
"default"});m.on("click tap",function(){k.destroy();document.body.style.cursor="default";null!=t&&t(1)});b.add(a);b.add(g);b.add(m)}function u(){null!=e&&audioPlaySuccess();e=n;v();w();x();b.draw()}function H(){var a=new Kinetic.Image({x:c+400-highScoreImageObj.width+32,y:d+115,opacity:0,scale:.8,image:highScoreImageObj});b.add(a);b.draw();audioPlayStamp();(new Kinetic.Tween({node:a,duration:.3,opacity:.7,onFinish:function(){setTimeout(function(){u()},800)}})).play()}var y,q,r,c,d,k,b,B,p,l,A,z,e,
n,t,f=null,h,m;this.init=function(a,b,f,h,k,m,v,w,x,u){p=b.replayLevel;l=b.nextLevel;highScoreImageObj=b.highScore;y=a;A=k;z=m;e=v;n=w;isHighScore=x;"undefined"==typeof e&&(e=null);t="undefined"==typeof u?null:u;q=410<f?f:410;r=310<h?h:310;c=410>=q?0:Math.floor(q-410)/2+5;d=310>=r?0:Math.floor(r-310)/2+5;document.getElementById(y).style.cssText="top:0px; left:0px; position: absolute;"};this.show=function(){k=new Kinetic.Stage({container:y,width:q,height:r});b=new Kinetic.Layer;B=new Kinetic.Layer;
k.add(b);k.add(B);C();D();F();E();G();v();b.draw();isHighScore?null==e?u():setTimeout(function(){H()},300):(w(),x(),b.draw())}};
