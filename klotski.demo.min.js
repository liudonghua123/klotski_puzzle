var firstButton,backButton,playButton,nextButton,lastButton,demoModeButton;
function addDemoModeButton(){var a=boardStartX,b=boardStartY+BOARD_HEIGHT+10,c=images.first0.width+0;firstButton=new Kinetic.Rect({x:a,y:b,width:images.first0.width,height:images.first0.height,fillPatternImage:images.first0});backButton=new Kinetic.Rect({x:a+c,y:b,width:images.back0.width,height:images.back0.height,fillPatternImage:images.back0});playButton=new Kinetic.Rect({x:a+2*c,y:b,width:images.play0.width,height:images.play0.height,fillPatternImage:images.play0});nextButton=new Kinetic.Rect({x:a+
3*c,y:b,width:images.next0.width,height:images.next0.height,fillPatternImage:images.next0});lastButton=new Kinetic.Rect({x:a+4*c,y:b,width:images.last0.width,height:images.last0.height,fillPatternImage:images.last0});demoModeButton=new Kinetic.Rect({x:a+5*c,y:b,width:images.demoMode1.width,height:images.demoMode1.height,fillPatternImage:images.demoMode1});gButtonLayer.add(firstButton);gButtonLayer.add(backButton);gButtonLayer.add(playButton);gButtonLayer.add(nextButton);gButtonLayer.add(lastButton);
gButtonLayer.add(demoModeButton);gButtonLayer.draw()}function clearDemoModeButton(){firstButton.destroy();backButton.destroy();playButton.destroy();nextButton.destroy();lastButton.destroy();demoModeButton.destroy()}function disableFirstButton(){firstButton.setFillPatternImage(images.first0);firstButton.off("mouseover click tap");firstButton.on("mouseover",function(){document.body.style.cursor="default"});gButtonLayer.draw()}
function enableFirstButton(){firstButton.setFillPatternImage(images.first1);firstButton.off("mouseover mouseout click tap");firstButton.on("mouseover",function(){document.body.style.cursor="pointer"});firstButton.on("mouseout",function(){document.body.style.cursor="default"});firstButton.on("click tap",function(){moveFirst(0)});gButtonLayer.draw()}
function disableBackButton(){backButton.setFillPatternImage(images.back0);backButton.off("mouseover click tap");backButton.on("mouseover",function(){document.body.style.cursor="default"});gButtonLayer.draw()}
function enableBackButton(){backButton.setFillPatternImage(images.back1);backButton.off("mouseover mouseout click tap");backButton.on("mouseover",function(){document.body.style.cursor="pointer"});backButton.on("mouseout",function(){document.body.style.cursor="default"});backButton.on("click tap",function(){blockIsMoving||(3==playMode&&disableAllBlockDraggable(),moveBack())});gButtonLayer.draw()}
function enableStartPlayButton(){playButton.setFillPatternImage(images.play0);playButton.off("mouseover mouseout click tap");playButton.on("mouseover",function(){document.body.style.cursor="pointer"});playButton.on("mouseout",function(){document.body.style.cursor="default"});playButton.on("click tap",function(){playStart()});gButtonLayer.draw()}
function enableStopPlayButton(){playButton.setFillPatternImage(images.play1);playButton.off("mouseover mouseout click tap");playButton.on("mouseover",function(){document.body.style.cursor="pointer"});playButton.on("mouseout",function(){document.body.style.cursor="default"});playButton.on("click tap",function(){playStop()});gButtonLayer.draw()}
function disablePlayButton(){playButton.setFillPatternImage(images.play2);playButton.off("mouseover click tap");playButton.on("mouseover",function(){document.body.style.cursor="default"});gButtonLayer.draw()}function disableNextButton(){nextButton.setFillPatternImage(images.next0);nextButton.off("mouseover click tap");nextButton.on("mouseover",function(){document.body.style.cursor="default"});gButtonLayer.draw()}
function enableNextButton(){nextButton.setFillPatternImage(images.next1);nextButton.off("mouseover mouseout click tap");nextButton.on("mouseover",function(){document.body.style.cursor="pointer"});nextButton.on("mouseout",function(){document.body.style.cursor="default"});nextButton.on("click tap",function(){blockIsMoving||(3==playMode&&disableAllBlockDraggable(),moveNext())});gButtonLayer.draw()}
function disableLastButton(){lastButton.setFillPatternImage(images.last0);lastButton.off("mouseover click tap");lastButton.on("mouseover",function(){document.body.style.cursor="default"});gButtonLayer.draw()}
function enableLastButton(){lastButton.setFillPatternImage(images.last1);lastButton.off("mouseover mouseout click tap");lastButton.on("mouseover",function(){document.body.style.cursor="pointer"});lastButton.on("mouseout",function(){document.body.style.cursor="default"});lastButton.on("click tap",function(){moveLast()});gButtonLayer.draw()}
function disableDemoModeButton(){demoModeButton.off("mouseover mouseout click tap");demoModeButton.on("mouseover",function(){document.body.style.cursor="default"})}
function enableDemoModeButton(){demoModeButton.off("mouseover mouseout click tap");demoModeButton.on("mouseover",function(){document.body.style.cursor="pointer"});demoModeButton.on("mouseout",function(){document.body.style.cursor="default"});demoModeButton.on("click tap",function(){restorePlayModeInfo();setPlayMode(curBoardStep);animateTitle(gTxtMsg.GameMode)})}
function setDemoModeButtonState(){var a=stepInfo.length;0>=curBoardStep||0>=a?disableFirstButton():enableFirstButton();0>=curBoardStep?disableBackButton():enableBackButton();curBoardStep>=a?(disableNextButton(),disablePlayButton(),disableLastButton()):(enableNextButton(),enableStartPlayButton(),enableLastButton());enableDemoModeButton()}function demoModeDisableButton(){disableFirstButton();disableBackButton();disablePlayButton();disableNextButton();disableLastButton();disableDemoModeButton()}
function playStart(){var a=stepInfo.length-curBoardStep;stopPlay=0;2==playMode&&demoModeDisableButton();3==playMode&&(editModeDisableButton(),disableClearButton(),disableSaveButton());disableFunctionButton();enableStopPlayButton();3==playMode&&disableAllBlockDraggable();moveNext(a)}var stopPlay=0;function needStopPlay(){return stopPlay}function playStop(){stopPlay=1};
