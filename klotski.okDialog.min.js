function okDialog(){function v(){for(var a=0;a<msgInfo.length;a++){var m=g+3*d.getHeight()/2+10+15*(a+1)+c[a].getHeight()*a;"c"==msgInfo[a][0]?(c[a].setPosition(e+n/2,m),c[a].setOffset({x:c[a].getWidth()/2})):c[a].setPosition(e+20,m);b.add(c[a]);"undefined"!=typeof urlInfo&&"undefined"!=typeof urlInfo[a]&&(c[a].setFontStyle("italic"),c[a].on("mouseover",function(){document.body.style.cursor="pointer"}),c[a].on("mouseout",function(){document.body.style.cursor="default"}),c[a].on("click tap",function(){window.open(urlInfo[this.getAttr("myId")])}))}}
function w(){var a=n-50,m=t-50,k=new Kinetic.Circle({x:e+a-f.width/2,y:g+m+f.width/2,radius:45,fill:"#6699FF",stroke:"#FF0066",strokeWidth:5,shadowColor:"gray",shadowBlur:8,shadowOffset:5,shadowOpacity:.3}),l=new Kinetic.Image({x:e+a-f.width,y:g+m,image:f,shadowColor:"gray",shadowBlur:3,shadowOffset:2,shadowOpacity:.5}),a=new Kinetic.Circle({x:e+a-f.width/2,y:g+m+f.width/2,radius:45});a.on("mouseover",function(){document.body.style.cursor="pointer"});a.on("mouseout",function(){document.body.style.cursor=
"default"});a.on("click tap",function(){h.destroy();delete d;delete c;document.body.style.cursor="default"});b.add(k);b.add(l);b.add(a)}var n,t,k,l,x,p,q,e,g,h,b,r,f,d,c,u;this.init=function(a,b,h,r,v,w,y){f=new Image;f=b.ok;x=a;titleName=v;msgInfo=w;urlInfo=y;d=new Kinetic.Text({x:0,y:0,text:titleName,fontSize:33,fontFamily:"Verdana",fill:"blue",shadowColor:"white",shadowBlur:3,shadowOffset:3,shadowOpacity:.9});c=[];for(a=totalMsgTxtHeight=u=0;a<msgInfo.length;a++)c[a]=new Kinetic.Text({myId:a,x:0,
y:0,text:msgInfo[a][1],fontSize:27,fontFamily:"Calibri",fill:"#0000C4"}),b=c[a].getWidth(),b>u&&(u=b),totalMsgTxtHeight+=c[a].getHeight()+15;t=totalMsgTxtHeight+2*d.getHeight()+20;n=u+40+150;k=n+10;l=t+10;p=h>k?h:k;q=r>l?r:l;e=p<=k?0:Math.floor(p-k)/2+5;g=q<=l?0:Math.floor(q-l)/2+5;document.getElementById(x).style.cssText="top:0px; left:0px; position: absolute;"};this.show=function(){h=new Kinetic.Stage({container:x,width:p,height:q});b=new Kinetic.Layer;r=new Kinetic.Layer;h.add(b);h.add(r);var a=
new Kinetic.Rect({x:10,y:10,width:p-10,height:q-10,cornerRadius:5,fill:"black",opacity:.6});b.add(a);a=new Kinetic.Rect({x:e,y:g,width:n,height:t,cornerRadius:5,fill:"#D0D0FF",stroke:"#F63333",strokeWidth:15,shadowColor:"black",shadowBlur:5,shadowOffset:10,shadowOpacity:.5});b.add(a);b.draw();d.setPosition(e+n/2,g+d.getHeight()/2+10);d.setOffset({x:d.getWidth()/2});b.add(d);v();w();b.draw()}};
